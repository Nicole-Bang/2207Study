<!DOCTYPE html>
<html lang="ko">                  
    <head>
        <meta charset="UTF-8">                         
        <title>05_디지털시계.html</title>  
    </head> 
    <body>

        <h3>디지털 시계</h3>
        <div id="clock"></div>
        <hr>

        <input type="button" value="시작" onclick="showtime()">
        <input type="button" value="중지" onclick="killtime()">
        
        <script>
            function showtime(){
                const d=new Date();

                let today="";
                today += d.getFullYear() + ".";

                if(d.getMonth()+1<10){
                    today += "0";
                }//if end

                today += d.getMonth()+1 + ".";

                if(d.getDate()<10){
                    today += "0";
                }//if end

                today += d.getDate();

                switch(d.getDay()){
                    case 0 : today+=" (일) "; break;
                    case 1 : today+=" (월) "; break;
                    case 2 : today+=" (화) "; break;
                    case 3 : today+=" (수) "; break;
                    case 4 : today+=" (목) "; break;
                    case 5 : today+=" (금) "; break;
                    case 6 : today+=" (토) "; break;
                }//switch end


                if(d.getHours()<12){
                    today +=" AM ";
                }else{
                    today += " PM ";
                }//if end


                if(d.getHours()<13){
                    today += d.getHours() + ":";
                }else{
                    today += d.getHours()-12 + ":";
                }//if end

                if(d.getMinutes()<10){
                    today +="0";
                }
                today += d.getMinutes()+ ":";

                if(d.getSeconds()<10){
                    today += "0";
                }
                today += d.getSeconds();



                document.getElementById("clock").innerText=today;

                timer=setTimeout(showtime, 1000); //1초후에 showtime함수를 호출
            }//showtime(); end

            /*멈춰야 하는 시간은 function showtime이다 
              지역변수 showtime을 전역변수에 담아주어야 한다.
              setTimeout(showtime)을 변수 timer로 선언하고(73열)
              function밖에서 전역변수로 선언한다(83열)
              이렇게 되면 다른 function(killtime)에서도 사용이 가능한 변수가 된다.
            */

            let timer; //전역변수

            function killtime(){
                clearTimeout(timer); //시간해제
            }//killtime() end
        
        </script>
        
    </body>                      
</html>